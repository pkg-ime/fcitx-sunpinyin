From: csslayer <wengxt@gmail.com>
Subject: Fix shuangpin fuzzy functionality
Origin: upstream,
http://code.google.com/p/fcitx/source/detail?r=7ebfe53f5df838bbd1b82be93b875ae9e3e1a134&repo=fcitx-sunpinyin
Last-Update: 2011-10-21
--- a/src/eim.cpp
+++ b/src/eim.cpp
@@ -476,11 +476,15 @@
     {
         AQuanpinSchemePolicy::instance().setFuzzyForwarding(true);
         AQuanpinSchemePolicy::instance().setFuzzyPinyinPairs(fuzzy);
+        AShuangpinSchemePolicy::instance().setFuzzyForwarding(true);
+        AShuangpinSchemePolicy::instance().setFuzzyPinyinPairs(fuzzy);
     }
     else
     {
         AQuanpinSchemePolicy::instance().setFuzzyForwarding(false);
         AQuanpinSchemePolicy::instance().clearFuzzyPinyinPairs();
+        AShuangpinSchemePolicy::instance().setFuzzyForwarding(false);
+        AShuangpinSchemePolicy::instance().clearFuzzyPinyinPairs();
     }
 
     if (correction.size() != 0)
